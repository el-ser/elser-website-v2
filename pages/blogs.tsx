import type { NextPage } from "next";
import Head from "next/head";
import BlogCard from "../components/blogs/blog-card";
import PageTitle from "../components/page-title";

import { useGetBlogsDataQuery, BlogDetails } from "../store/blogs/blogs.api";

const Blogs: NextPage = () => {
  const blogsQueryResult = useGetBlogsDataQuery(null);
  const { data, isLoading, isError } = blogsQueryResult;
  console.log(data);
  return (
    <div>
      <Head>
        <title>Blogs / el-ser</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex flex-col pt-[10vh] justify-center items-center gap-y-8">
        <PageTitle>Blogs</PageTitle>
        {isLoading || isError ? (
          <div>Still Loading</div>
        ) : (
          data.map((blog: BlogDetails) => {
            return <BlogCard key={blog._id} details={blog} />;
          })
        )}
      </main>
    </div>
  );
};

export default Blogs;
